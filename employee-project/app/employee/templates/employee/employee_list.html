{% extends 'base.html' %}
{% load static %}

{% block title %}Employee List{% endblock %}

{% block content %}
    {% include 'employee/includes/header.html' %}
    <h2>Employee List</h2>

    <!-- Create Employee Button -->
    <button class="create-employee" data-modal-title="Create Employee" data-action="{% url 'employee-create' %}">Create Employee</button>

    <table>
        <!-- Table content specific to employees -->
        <thead>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Department</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for employee in employees %}
                <tr>
                    <td>{{ employee.first_name }}</td>
                    <td>{{ employee.last_name }}</td>
                    <td>{{ employee.department }}</td>
                    <td>
                        <!-- Modify the "Edit" button to include data-modal-title and data-action attributes -->
                        <button class="edit-employee" data-id="{{ employee.id }}" data-modal-title="Edit Employee" data-action="{% url 'employee-edit' employee.id %}">Edit</button>
                        <button class="delete-employee" data-id="{{ employee.id }}">Delete</button>
                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="4">No employees available.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Employee-specific Modal for Create/Edit -->
    {% include 'employee/employee_form.html' with employee_form=employee_form %}
    
    <!-- Include the external JavaScript file -->
    <script src="{% static 'js/employee.js' %}"></script>
{% endblock %}
